# Generated by Django 6.0 on 2026-01-01 15:29

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('warehouse', '0003_category_alter_auditlog_options_alter_order_options_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='material',
            options={'verbose_name': '–ú–∞—Ç–µ—Ä—ñ–∞–ª', 'verbose_name_plural': '–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏'},
        ),
        migrations.AlterModelOptions(
            name='order',
            options={'verbose_name': '–ó–∞—è–≤–∫–∞', 'verbose_name_plural': '–ó–∞—è–≤–∫–∏'},
        ),
        migrations.AlterModelOptions(
            name='ordercomment',
            options={},
        ),
        migrations.AlterModelOptions(
            name='supplier',
            options={'verbose_name': '–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫', 'verbose_name_plural': '–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏'},
        ),
        migrations.AlterModelOptions(
            name='supplierprice',
            options={'verbose_name': '–¶—ñ–Ω–∞ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞', 'verbose_name_plural': '–ü—Ä–∞–π—Å-–ª–∏—Å—Ç'},
        ),
        migrations.AlterModelOptions(
            name='transaction',
            options={'ordering': ['-date', '-created_at'], 'verbose_name': '–†—É—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤', 'verbose_name_plural': '–ñ—É—Ä–Ω–∞–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π'},
        ),
        migrations.AlterModelOptions(
            name='warehouse',
            options={'verbose_name': "–°–∫–ª–∞–¥ / –û–±'—î–∫—Ç", 'verbose_name_plural': "–°–∫–ª–∞–¥–∏ —Ç–∞ –û–±'—î–∫—Ç–∏"},
        ),
        migrations.RemoveField(
            model_name='order',
            name='approved_at',
        ),
        migrations.RemoveField(
            model_name='order',
            name='audit_log',
        ),
        migrations.RemoveField(
            model_name='order',
            name='manager_last_viewed_at',
        ),
        migrations.RemoveField(
            model_name='order',
            name='supplier_price',
        ),
        migrations.RemoveField(
            model_name='warehouse',
            name='assigned_users',
        ),
        migrations.RemoveField(
            model_name='warehouse',
            name='is_main_storage',
        ),
        migrations.AddField(
            model_name='material',
            name='description',
            field=models.TextField(blank=True, verbose_name='–û–ø–∏—Å'),
        ),
        migrations.AddField(
            model_name='material',
            name='photo',
            field=models.ImageField(blank=True, null=True, upload_to='materials/', verbose_name='–§–æ—Ç–æ'),
        ),
        migrations.AddField(
            model_name='transaction',
            name='construct_type',
            field=models.CharField(blank=True, choices=[('vertical', '‚ÜïÔ∏è –í–µ—Ä—Ç–∏–∫–∞–ª—å (–ö–æ–ª–æ–Ω–∏/–°—Ç—ñ–Ω–∏)'), ('horizontal', '‚ÜîÔ∏è –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å (–ü–ª–∏—Ç–∞/–ü–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è)'), ('other', 'üõ†Ô∏è –Ü–Ω—à–µ')], default='other', max_length=20, verbose_name='–¢–∏–ø –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤—É'),
        ),
        migrations.AddField(
            model_name='userprofile',
            name='warehouses',
            field=models.ManyToManyField(blank=True, to='warehouse.warehouse'),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='action_type',
            field=models.CharField(choices=[('CREATE', '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è'), ('UPDATE', '–ó–º—ñ–Ω–∞'), ('DELETE', '–í–∏–¥–∞–ª–µ–Ω–Ω—è'), ('LOGIN', '–í—Ö—ñ–¥'), ('APPROVE', '–ü–æ–≥–æ–¥–∂–µ–Ω–Ω—è')], max_length=20),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='ip_address',
            field=models.GenericIPAddressField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='new_value',
            field=models.TextField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='old_value',
            field=models.TextField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='user',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='material',
            name='barcode',
            field=models.CharField(blank=True, max_length=100, null=True, unique=True, verbose_name='–®—Ç—Ä–∏—Ö–∫–æ–¥'),
        ),
        migrations.AlterField(
            model_name='material',
            name='current_avg_price',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–°–µ—Ä–µ–¥–Ω—è —Ü—ñ–Ω–∞'),
        ),
        migrations.AlterField(
            model_name='material',
            name='market_price',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–†–∏–Ω–∫–æ–≤–∞ —Ü—ñ–Ω–∞ (–¥–æ–≤—ñ–¥–∫–æ–≤–æ)'),
        ),
        migrations.AlterField(
            model_name='material',
            name='min_limit',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–ú—ñ–Ω. –∑–∞–ª–∏—à–æ–∫'),
        ),
        migrations.AlterField(
            model_name='material',
            name='name',
            field=models.CharField(max_length=200, verbose_name='–ù–∞–∑–≤–∞'),
        ),
        migrations.AlterField(
            model_name='material',
            name='unit',
            field=models.CharField(choices=[('—à—Ç', '—à—Ç'), ('–∫–≥', '–∫–≥'), ('—Ç', '—Ç–æ–Ω–Ω'), ('–º', '–º'), ('–º2', '–º¬≤'), ('–º3', '–º¬≥'), ('–ª', '–ª'), ('—É–ø', '—É–ø'), ('–≥–æ–¥', '–≥–æ–¥'), ('–∑–º', '–∑–º—ñ–Ω–∞'), ('–¥–æ–±–∞', '–¥–æ–±–∞')], default='—à—Ç', max_length=20, verbose_name='–û–¥.–≤–∏–º.'),
        ),
        migrations.AlterField(
            model_name='order',
            name='approved_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_orders', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='order',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_orders', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='order',
            name='driver_name',
            field=models.CharField(blank=True, max_length=100, verbose_name='–í–æ–¥—ñ–π'),
        ),
        migrations.AlterField(
            model_name='order',
            name='expected_date',
            field=models.DateField(blank=True, null=True, verbose_name='–ë–∞–∂–∞–Ω–∞ –¥–∞—Ç–∞'),
        ),
        migrations.AlterField(
            model_name='order',
            name='note',
            field=models.TextField(blank=True, verbose_name='–ö–æ–º–µ–Ω—Ç–∞—Ä'),
        ),
        migrations.AlterField(
            model_name='order',
            name='priority',
            field=models.CharField(choices=[('low', '–ù–∏–∑—å–∫–∏–π'), ('normal', '–ó–≤–∏—á–∞–π–Ω–∏–π'), ('high', '–¢–µ—Ä–º—ñ–Ω–æ–≤–∏–π üî•')], default='normal', max_length=20, verbose_name='–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç'),
        ),
        migrations.AlterField(
            model_name='order',
            name='proof_photo',
            field=models.ImageField(blank=True, null=True, upload_to='proofs/', verbose_name='–§–æ—Ç–æ —Ñ–∞–∫—Ç—É –ø—Ä–∏–π–æ–º—É'),
        ),
        migrations.AlterField(
            model_name='order',
            name='request_photo',
            field=models.ImageField(blank=True, null=True, upload_to='requests/', verbose_name='–§–æ—Ç–æ –∑–∞—è–≤–∫–∏'),
        ),
        migrations.AlterField(
            model_name='order',
            name='shipping_doc',
            field=models.ImageField(blank=True, null=True, upload_to='shipping/', verbose_name='–§–æ—Ç–æ –Ω–∞–∫–ª–∞–¥–Ω–æ—ó/–¢–¢–ù'),
        ),
        migrations.AlterField(
            model_name='order',
            name='source_warehouse',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transfers_out', to='warehouse.warehouse', verbose_name='–ó–≤—ñ–¥–∫–∏ (–¥–ª—è –ø–µ—Ä–µ–º—ñ—â–µ–Ω—å)'),
        ),
        migrations.AlterField(
            model_name='order',
            name='status',
            field=models.CharField(choices=[('new', '–ù–æ–≤–∞'), ('rfq', '–¢–µ–Ω–¥–µ—Ä (RFQ)'), ('approved', '–ü–æ–≥–æ–¥–∂–µ–Ω–æ'), ('purchasing', '–ó–∞–∫—É–ø—ñ–≤–ª—è'), ('in_transit', '–í –¥–æ—Ä–æ–∑—ñ'), ('completed', '–í–∏–∫–æ–Ω–∞–Ω–æ'), ('rejected', '–í—ñ–¥—Ö–∏–ª–µ–Ω–æ'), ('draft', '–ß–µ—Ä–Ω–µ—Ç–∫–∞')], default='new', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å'),
        ),
        migrations.AlterField(
            model_name='order',
            name='supplier_info',
            field=models.CharField(blank=True, max_length=200, verbose_name='–Ü–Ω—Ñ–æ –ø—Ä–æ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ (—è–∫—â–æ –Ω–µ–º–∞—î –≤ –±–∞–∑—ñ)'),
        ),
        migrations.AlterField(
            model_name='order',
            name='updated_at',
            field=models.DateTimeField(auto_now=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='vehicle_number',
            field=models.CharField(blank=True, max_length=50, verbose_name='–ù–æ–º–µ—Ä –∞–≤—Ç–æ'),
        ),
        migrations.AlterField(
            model_name='order',
            name='warehouse',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.warehouse', verbose_name="–û–±'—î–∫—Ç"),
        ),
        migrations.AlterField(
            model_name='ordercomment',
            name='text',
            field=models.TextField(),
        ),
        migrations.AlterField(
            model_name='orderitem',
            name='quantity',
            field=models.DecimalField(decimal_places=2, max_digits=10, verbose_name='–ö—ñ–ª—å–∫—ñ—Å—Ç—å'),
        ),
        migrations.AlterField(
            model_name='orderitem',
            name='quantity_fact',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='–§–∞–∫—Ç–∏—á–Ω–æ –ø—Ä–∏–π–Ω—è—Ç–æ'),
        ),
        migrations.AlterField(
            model_name='orderitem',
            name='supplier_price',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–¶—ñ–Ω–∞ –∑–∞–∫—É–ø—ñ–≤–ª—ñ'),
        ),
        migrations.AlterField(
            model_name='supplierprice',
            name='material',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.material'),
        ),
        migrations.AlterField(
            model_name='supplierprice',
            name='price',
            field=models.DecimalField(decimal_places=2, max_digits=10, verbose_name='–¶—ñ–Ω–∞ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞'),
        ),
        migrations.AlterField(
            model_name='supplierprice',
            name='supplier',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.supplier'),
        ),
        migrations.AlterField(
            model_name='supplierprice',
            name='updated_at',
            field=models.DateTimeField(auto_now=True),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='–•—Ç–æ –ø—Ä–æ–≤—ñ–≤'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='date',
            field=models.DateField(default=django.utils.timezone.now, verbose_name='–î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='photo',
            field=models.ImageField(blank=True, null=True, upload_to='transactions/', verbose_name='–§–æ—Ç–æ-–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='price',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–¶—ñ–Ω–∞ (–∑–∞ –æ–¥.)'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='quantity',
            field=models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='–ö—ñ–ª—å–∫—ñ—Å—Ç—å'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='shift',
            field=models.CharField(choices=[('day', '–î–µ–Ω–Ω–∞'), ('night', '–ù—ñ—á–Ω–∞')], default='day', max_length=20, verbose_name='–ó–º—ñ–Ω–∞'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='transaction_type',
            field=models.CharField(choices=[('IN', 'üü¢ –ü—Ä–∏—Ö—ñ–¥'), ('OUT', 'üî¥ –í–∏—Ç—Ä–∞—Ç–∞ –Ω–∞ —Ä–æ–±–æ—Ç–∏'), ('TRANSFER', 'üîµ –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è'), ('LOSS', '‚ö†Ô∏è –°–ø–∏—Å–∞–Ω–Ω—è (–ë—ñ–π/–í—Ç—Ä–∞—Ç–∞)')], max_length=10, verbose_name='–¢–∏–ø'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='work_type',
            field=models.CharField(blank=True, choices=[('foundation', '–§—É–Ω–¥–∞–º–µ–Ω—Ç'), ('walls', '–°—Ç—ñ–Ω–∏'), ('roof', '–î–∞—Ö'), ('internal', '–í–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Ä–æ–±–æ—Ç–∏')], max_length=50, verbose_name='–í–∏–¥ —Ä–æ–±—ñ—Ç (Legacy)'),
        ),
        migrations.AlterField(
            model_name='userprofile',
            name='phone',
            field=models.CharField(blank=True, max_length=20),
        ),
        migrations.AlterField(
            model_name='userprofile',
            name='photo',
            field=models.ImageField(blank=True, null=True, upload_to='avatars/'),
        ),
        migrations.AlterField(
            model_name='userprofile',
            name='position',
            field=models.CharField(blank=True, max_length=100),
        ),
        migrations.AlterField(
            model_name='warehouse',
            name='address',
            field=models.CharField(blank=True, max_length=255, verbose_name='–ê–¥—Ä–µ—Å–∞'),
        ),
        migrations.AlterField(
            model_name='warehouse',
            name='budget_limit',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='–ë—é–¥–∂–µ—Ç–Ω–∏–π –ª—ñ–º—ñ—Ç (–≥—Ä–Ω)'),
        ),
        migrations.AlterField(
            model_name='warehouse',
            name='responsible',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π (–ü—Ä–æ—Ä–∞–±)'),
        ),
        migrations.CreateModel(
            name='ConstructionStage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='–ù–∞–∑–≤–∞ –µ—Ç–∞–ø—É')),
                ('warehouse', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.warehouse', verbose_name="–û–±'—î–∫—Ç")),
            ],
            options={
                'verbose_name': '–ï—Ç–∞–ø –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞',
                'verbose_name_plural': '–ï—Ç–∞–ø–∏ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞',
                'ordering': ['id'],
            },
        ),
        migrations.AddField(
            model_name='transaction',
            name='stage',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='warehouse.constructionstage', verbose_name='–ï—Ç–∞–ø —Ä–æ–±—ñ—Ç'),
        ),
        migrations.CreateModel(
            name='StageLimit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('construct_type', models.CharField(choices=[('vertical', '‚ÜïÔ∏è –í–µ—Ä—Ç–∏–∫–∞–ª—å (–ö–æ–ª–æ–Ω–∏/–°—Ç—ñ–Ω–∏)'), ('horizontal', '‚ÜîÔ∏è –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å (–ü–ª–∏—Ç–∞/–ü–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è)'), ('other', 'üõ†Ô∏è –Ü–Ω—à–µ')], default='other', max_length=20, verbose_name='–¢–∏–ø –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤—É')),
                ('planned_quantity', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='–ü–ª–∞–Ω–æ–≤–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å')),
                ('material', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.material', verbose_name='–ú–∞—Ç–µ—Ä—ñ–∞–ª')),
                ('stage', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.constructionstage', verbose_name='–ï—Ç–∞–ø')),
            ],
            options={
                'verbose_name': '–õ—ñ–º—ñ—Ç –ø–æ –µ—Ç–∞–ø—É',
                'verbose_name_plural': '–ö–æ—à—Ç–æ—Ä–∏—Å (–õ—ñ–º—ñ—Ç–∏)',
            },
        ),
    ]
