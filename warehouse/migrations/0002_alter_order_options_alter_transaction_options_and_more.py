# Generated by Django 6.0 on 2025-12-14 18:50

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('warehouse', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='order',
            options={},
        ),
        migrations.AlterModelOptions(
            name='transaction',
            options={},
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='action_type',
            field=models.CharField(choices=[('LOGIN', '–í—Ö—ñ–¥'), ('CREATE', '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è'), ('UPDATE', '–ó–º—ñ–Ω–∞'), ('DELETE', '–í–∏–¥–∞–ª–µ–Ω–Ω—è'), ('APPROVE', '–ü–æ–≥–æ–¥–∂–µ–Ω–Ω—è'), ('REJECT', '–í—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è'), ('WRITEOFF', '–°–ø–∏—Å–∞–Ω–Ω—è'), ('TRANSFER', '–ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è'), ('CHANGE_PRICE', '–ó–º—ñ–Ω–∞ —Ü—ñ–Ω–∏')], max_length=20),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='ip_address',
            field=models.GenericIPAddressField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='new_value',
            field=models.TextField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='old_value',
            field=models.TextField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='timestamp',
            field=models.DateTimeField(auto_now_add=True),
        ),
        migrations.AlterField(
            model_name='auditlog',
            name='user',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='order',
            name='approved_at',
            field=models.DateTimeField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='approved_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_orders', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='order',
            name='audit_log',
            field=models.TextField(blank=True, default=''),
        ),
        migrations.AlterField(
            model_name='order',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='created_orders', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='order',
            name='driver_name',
            field=models.CharField(blank=True, max_length=100),
        ),
        migrations.AlterField(
            model_name='order',
            name='driver_phone',
            field=models.CharField(blank=True, max_length=50),
        ),
        migrations.AlterField(
            model_name='order',
            name='expected_date',
            field=models.DateField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='note',
            field=models.TextField(blank=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='priority',
            field=models.CharField(choices=[('low', 'üü¢ –ù–µ —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ'), ('normal', 'üü° –ó–≤–∏—á–∞–π–Ω–æ'), ('high', 'üî¥ –¢–µ—Ä–º—ñ–Ω–æ–≤–æ!')], default='normal', max_length=10),
        ),
        migrations.AlterField(
            model_name='order',
            name='request_photo',
            field=models.ImageField(blank=True, null=True, upload_to='requests/'),
        ),
        migrations.AlterField(
            model_name='order',
            name='selected_supplier',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='warehouse.supplier'),
        ),
        migrations.AlterField(
            model_name='order',
            name='shipping_doc',
            field=models.ImageField(blank=True, null=True, upload_to='shipping_docs/'),
        ),
        migrations.AlterField(
            model_name='order',
            name='status',
            field=models.CharField(choices=[('draft', 'üìù –ß–µ—Ä–Ω–µ—Ç–∫–∞'), ('new', '‚è≥ –ù–∞ –ø–æ–≥–æ–¥–∂–µ–Ω–Ω—ñ'), ('rfq', 'üîç –¢–µ–Ω–¥–µ—Ä (RFQ)'), ('approved', '‚úÖ –ü–æ–≥–æ–¥–∂–µ–Ω–æ (PO)'), ('purchasing', 'üí∏ –£ –∑–∞–∫—É–ø—ñ–≤–ª—ñ'), ('in_transit', 'üöö –£ –¥–æ—Ä–æ–∑—ñ'), ('completed', 'üèÅ –í–∏–∫–æ–Ω–∞–Ω–æ'), ('rejected', 'üö´ –í—ñ–¥—Ö–∏–ª–µ–Ω–æ')], default='new', max_length=20),
        ),
        migrations.AlterField(
            model_name='order',
            name='supplier_info',
            field=models.CharField(blank=True, max_length=200),
        ),
        migrations.AlterField(
            model_name='order',
            name='updated_at',
            field=models.DateTimeField(auto_now=True),
        ),
        migrations.AlterField(
            model_name='order',
            name='vehicle_number',
            field=models.CharField(blank=True, max_length=20),
        ),
        migrations.AlterField(
            model_name='ordercomment',
            name='text',
            field=models.TextField(),
        ),
        migrations.AlterField(
            model_name='orderitem',
            name='material',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.material'),
        ),
        migrations.AlterField(
            model_name='orderitem',
            name='quantity',
            field=models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))]),
        ),
        migrations.AlterField(
            model_name='orderitem',
            name='quantity_fact',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
        ),
        migrations.AlterField(
            model_name='orderitem',
            name='supplier_price',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='date',
            field=models.DateField(default=django.utils.timezone.now),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='description',
            field=models.TextField(blank=True),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='material',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.material'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='order',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='warehouse.order'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='photo',
            field=models.ImageField(blank=True, null=True, upload_to='transactions/'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='price',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='quantity',
            field=models.DecimalField(decimal_places=2, max_digits=10),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='shift',
            field=models.CharField(choices=[('1', '1 –∑–º—ñ–Ω–∞'), ('2', '2 –∑–º—ñ–Ω–∞')], default='1', max_length=10),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='transaction_type',
            field=models.CharField(choices=[('IN', '–ü—Ä–∏—Ö—ñ–¥'), ('OUT', '–í–∏—Ç—Ä–∞—Ç–∞'), ('TRANSFER', '–ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è'), ('LOSS', '–°–ø–∏—Å–∞–Ω–Ω—è')], max_length=10),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='warehouse',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='warehouse.warehouse'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='work_type',
            field=models.CharField(blank=True, choices=[('foundation', '–§—É–Ω–¥–∞–º–µ–Ω—Ç'), ('walls', '–°—Ç—ñ–Ω–∏'), ('roof', '–î–∞—Ö'), ('other', '–Ü–Ω—à–µ')], max_length=50),
        ),
    ]
